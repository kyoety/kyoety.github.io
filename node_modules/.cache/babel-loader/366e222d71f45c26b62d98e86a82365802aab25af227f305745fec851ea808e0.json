{"ast":null,"code":"import { getNowPlaying } from '../../lib/spotify';\nexport default async function getNowPlayingItem(client_id, client_secret, refresh_token) {\n  const response = await getNowPlaying(client_id, client_secret, refresh_token);\n  if (response.status === 204 || response.status > 400) {\n    return false;\n  }\n  const song = await response.json();\n  const albumImageUrl = song.item.album.images[0].url;\n  const artist = song.item.artists.map(_artist => _artist.name).join(\", \");\n  const isPlaying = song.is_playing;\n  const songUrl = song.item.external_urls.spotify;\n  const title = song.item.name;\n  return {\n    albumImageUrl,\n    artist,\n    isPlaying,\n    songUrl,\n    title\n  };\n}","map":{"version":3,"names":["getNowPlaying","getNowPlayingItem","client_id","client_secret","refresh_token","response","status","song","json","albumImageUrl","item","album","images","url","artist","artists","map","_artist","name","join","isPlaying","is_playing","songUrl","external_urls","spotify","title"],"sources":["/Users/katieye/Desktop/my_portfolio/portfolio/src/pages/api/now-playing.js"],"sourcesContent":["import { getNowPlaying } from '../../lib/spotify';\n\nexport default async function getNowPlayingItem(\n    client_id,\n    client_secret,\n    refresh_token\n) {\n    const response = await getNowPlaying(client_id, client_secret, refresh_token);\n    if (response.status === 204 || response.status > 400) {\n        return false;\n    }    const song = await response.json();\n    const albumImageUrl = song.item.album.images[0].url;\n    const artist = song.item.artists.map((_artist) => _artist.name).join(\", \");\n    const isPlaying = song.is_playing;\n    const songUrl = song.item.external_urls.spotify;\n    const title = song.item.name;\n    \n    return {\n        albumImageUrl,\n        artist,\n        isPlaying,\n        songUrl,\n        title,\n    };\n}"],"mappings":"AAAA,SAASA,aAAa,QAAQ,mBAAmB;AAEjD,eAAe,eAAeC,iBAAiBA,CAC3CC,SAAS,EACTC,aAAa,EACbC,aAAa,EACf;EACE,MAAMC,QAAQ,GAAG,MAAML,aAAa,CAACE,SAAS,EAAEC,aAAa,EAAEC,aAAa,CAAC;EAC7E,IAAIC,QAAQ,CAACC,MAAM,KAAK,GAAG,IAAID,QAAQ,CAACC,MAAM,GAAG,GAAG,EAAE;IAClD,OAAO,KAAK;EAChB;EAAK,MAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;EACvC,MAAMC,aAAa,GAAGF,IAAI,CAACG,IAAI,CAACC,KAAK,CAACC,MAAM,CAAC,CAAC,CAAC,CAACC,GAAG;EACnD,MAAMC,MAAM,GAAGP,IAAI,CAACG,IAAI,CAACK,OAAO,CAACC,GAAG,CAAEC,OAAO,IAAKA,OAAO,CAACC,IAAI,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC;EAC1E,MAAMC,SAAS,GAAGb,IAAI,CAACc,UAAU;EACjC,MAAMC,OAAO,GAAGf,IAAI,CAACG,IAAI,CAACa,aAAa,CAACC,OAAO;EAC/C,MAAMC,KAAK,GAAGlB,IAAI,CAACG,IAAI,CAACQ,IAAI;EAE5B,OAAO;IACHT,aAAa;IACbK,MAAM;IACNM,SAAS;IACTE,OAAO;IACPG;EACJ,CAAC;AACL","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}